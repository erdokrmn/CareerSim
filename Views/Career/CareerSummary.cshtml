@model CareerSim.Models.ViewModels.CareerSummaryViewModel
@{
    ViewData["Title"] = "AI DeÄŸerlendirme Ã–zeti";
    Layout = "_UserLayout";
}

<h2>@Model.CareerTitle â€” AI DeÄŸerlendirmesi</h2>
<section class="ai-summary-section">
    <h4>ğŸ¤– DeÄŸerlendirme Sonucu:</h4>
    <pre class="ai-summary-text">@Model.SummaryText</pre>
</section>

<button id="toggleDetailsBtn" class="toggle-details-btn">
    ğŸ” DetaylarÄ± GÃ¶ster
</button>

<div id="detailsContainer">
    @foreach (var item in Model.Items)
    {
        <section class="ai-details-section">
            <h5>ğŸ§© @item.TaskTitle</h5>
            <p><strong>Soru:</strong> @item.TaskDescription</p>
            <p><strong>Ã–rnek Cevap:</strong> @item.SampleAnswer</p>
            <p><strong>Sizin CevabÄ±nÄ±z:</strong></p>
            <pre>@item.UserAnswer</pre>
        </section>
    }
</div>


@section Scripts {
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const btn = document.getElementById("toggleDetailsBtn");
            const detailSections = document.querySelectorAll(".ai-details-section");

            // BaÅŸlangÄ±Ã§ta gizli olduÄŸundan, zaten display: none durumunda

            btn.addEventListener("click", function () {
                const isVisible = detailSections[0]?.classList.contains("active");

                detailSections.forEach(section => {
                    if (isVisible) {
                        section.classList.remove("active");
                    } else {
                        section.classList.add("active");
                    }
                });

                btn.textContent = isVisible ? "ğŸ” DetaylarÄ± GÃ¶ster" : "ğŸ”½ DetaylarÄ± Gizle";
            });
        });
    </script>
}




